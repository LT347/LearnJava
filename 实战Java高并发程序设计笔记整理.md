[TOC]

## 实战Java高并发程序设计笔记整理

### 一、基础知识

#### 1、同步与异步

同步和异步是用来形容一次方法调用的。同步方法调用一旦开始，调用者必须等到方法调用返回后，才能继续后续的行为。异步调用似乎是一瞬间完成的。

#### 2、并发与并行

并发偏重于多个任务交替执行，而多个任务之间还是串行的。类似于 某个时间段

并行是真正意义上的**“同时执行”**。

#### 3、临界区

临界区用来表示一种公共资源或者共享数据，可以被多个线程使用。就是一段代码。

#### 4、阻塞（BLOCKING）和 非阻塞（Non-Blocking）

一个线程占用了临界区资源，那么其他所有需要这个资源的线程就必须在这个临界区等待，等待会导致线程挂起。这种情况就是阻塞。

#### 5、死锁（Deadlock）、饥饿（Starvation） 和 活锁（Livelock）

死锁：互相占有资源，又不想释放、

饥饿：某一个或者多个线程因为种种原因无法获得所需要的资源，导致一直无法执行。

活锁：相互谦让、主动释放资源给他人使用，导致资源不断在两个线程之间跳动。

#### 6、Java内存（JMM）

JMM的关键技术点都是围绕着多线程的原子性、可见性和有序性来建立的。

1. 原子性 

   原子性是指一个操作是不可中断的。即使多个线程一起执行的时候，一个操作一旦开始，就不会被其他线程干扰。

2. 可见性

   可见性是指一个线程修改了某一个共享变量的值时，其他线程是否能够立即知道这个修改。

3.  有序性

   指令重排的可能。

   哪些指令不能重排：Happen-Before规则

   程序顺序原则：

   volatile规则：volatile变量的写先于读发生，这保证volatile变量的可见性。

   锁规则：解锁（unlock）必然发生在随后的加锁（lock）前。

   线程的start()方法先于它的每一个动作。

   线程的所有动作先于线程的终结。

   线程的中断先于被中断线程的代码。

   对象的构造函数的执行，结束先于finalize()方法。

### 二、Java并行程序基础





